{"version":3,"sources":["webpack:///./src/views/Setting.vue?c216","webpack:///./src/views/Setting.vue","webpack:///./src/views/Setting.vue?5ac1"],"names":["class","name","nickName","label","introduceSign","password","type","round","color","save","block","handleLogout","components","sHeader","setup","state","data","params","passwordMd5","success","resultCode","window","location","href","__exports__"],"mappings":"2GAAA,W,wICWOA,MAAM,c,GAEJA,MAAM,c,iBAK2E,M,iBACQ,Q,sKARhG,eASM,MATN,EASM,CARJ,eAAoC,GAAzBC,KAAM,SACjB,eAIM,MAJN,EAIM,CAHJ,eAA2C,G,WAAvB,EAAAC,S,qDAAA,EAAAA,SAAQ,IAAEC,MAAM,M,uBACpC,eAAkD,G,WAA9B,EAAAC,c,qDAAA,EAAAA,cAAa,IAAED,MAAM,Q,uBACzC,eAA6D,G,WAAzC,EAAAE,S,qDAAA,EAAAA,SAAQ,IAAEC,KAAK,WAAWH,MAAM,Q,yBAEtD,eAAqG,GAAzFI,MAAA,GAAMP,MAAM,WAAWQ,MAAM,UAAUF,KAAK,UAAW,QAAO,EAAAG,KAAMC,MAAA,I,YAAM,iBAAE,C,0BACxF,eAA+G,GAAnGH,MAAA,GAAMP,MAAM,WAAWQ,MAAM,UAAUF,KAAK,UAAW,QAAO,EAAAK,aAAcD,MAAA,I,YAAM,iBAAI,C,oJAWvF,GACbE,WAAY,CACVC,QAAA,QAEFC,MAJa,WAKX,IAAMC,EAAQ,eAAS,CACrBb,SAAU,GACVE,cAAe,GACfC,SAAU,KAGZ,eAAS,wCAAC,sHACe,iBADf,gBACAW,EADA,EACAA,KACRD,EAAMb,SAAWc,EAAKd,SACtBa,EAAMX,cAAgBY,EAAKZ,cAHnB,4CAMV,IAAMK,EAAG,yDAAI,2GACLQ,EAAS,CACbb,cAAeW,EAAMX,cACrBF,SAAUa,EAAMb,UAEda,EAAMV,WACRY,EAAOC,YAAc,IAAIH,EAAMV,WANtB,SAQL,eAAaY,GARR,OASX,OAAME,QAAQ,QATH,2CAAJ,qDAYHR,EAAW,yDAAI,sHACU,iBADV,gBACXS,EADW,EACXA,WACU,KAAdA,IACF,eAAS,QAAS,IAClBC,OAAOC,SAASC,KAAO,SAJN,2CAAJ,qDAQjB,wCACK,eAAOR,IADZ,IAEEN,OACAE,mB,iCC/DN,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/setting.1fcf8e60.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Setting.vue?vue&type=style&index=0&id=09eaaa81&lang=less&scoped=true\"","<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"seting-box\">\n    <s-header :name=\"'账号管理'\"></s-header>\n    <div class=\"input-item\">\n      <van-field v-model=\"nickName\" label=\"昵称\" />\n      <van-field v-model=\"introduceSign\" label=\"个性签名\" />\n      <van-field v-model=\"password\" type='password' label=\"修改密码\" />\n    </div>\n    <van-button round class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"save\" block>保存</van-button>\n    <van-button round class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"handleLogout\" block>退出登录</van-button>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, toRefs } from 'vue'\nimport md5 from 'js-md5'\nimport sHeader from '@/components/SimpleHeader'\nimport { getUserInfo, EditUserInfo, logout } from '@/service/user'\nimport { setLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const state = reactive({\n      nickName: '',\n      introduceSign: '',\n      password: ''\n    })\n\n    onMounted(async () => {\n      const { data } = await getUserInfo()\n      state.nickName = data.nickName\n      state.introduceSign = data.introduceSign\n    })\n\n    const save = async () => {\n      const params = {\n        introduceSign: state.introduceSign,\n        nickName: state.nickName\n      }\n      if (state.password) {\n        params.passwordMd5 = md5(state.password)\n      } \n      await EditUserInfo(params)\n      Toast.success('保存成功')\n    }\n\n    const handleLogout = async () => {\n      const { resultCode } = await logout()\n      if (resultCode == 200) {\n        setLocal('token', '')\n        window.location.href = '/home'\n      }\n    }\n\n    return {\n      ...toRefs(state),\n      save,\n      handleLogout\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .seting-box {\n    .save-btn {\n      width: 80%;\n      margin: 20px auto ;\n    }\n  }\n</style>\n","import { render } from \"./Setting.vue?vue&type=template&id=09eaaa81&scoped=true\"\nimport script from \"./Setting.vue?vue&type=script&lang=js\"\nexport * from \"./Setting.vue?vue&type=script&lang=js\"\n\nimport \"./Setting.vue?vue&type=style&index=0&id=09eaaa81&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\小商城二开\\\\newbee-mall-vue3-app-main\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-09eaaa81\"]])\n\nexport default __exports__"],"sourceRoot":""}