(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{"0eaf":function(t,e,c){"use strict";c("b0c0");var n=c("7a23"),a=Object(n["T"])("data-v-2adef164");Object(n["C"])("data-v-2adef164");var r={class:"simple-header van-hairline--bottom"},o={key:1},i={class:"simple-header-name"},u=Object(n["j"])("i",{class:"nbicon nbmore"},null,-1),s=Object(n["j"])("div",{class:"block"},null,-1);Object(n["A"])();var d=a((function(t,e,c,a,d,l){return Object(n["z"])(),Object(n["f"])(n["a"],null,[Object(n["j"])("header",r,[a.isback?(Object(n["z"])(),Object(n["f"])("i",o,"      ")):(Object(n["z"])(),Object(n["f"])("i",{key:0,class:"nbicon nbfanhui",onClick:e[1]||(e[1]=function(){return a.goBack.apply(a,arguments)})})),Object(n["j"])("div",i,Object(n["L"])(c.name),1),u]),s],64)})),l=c("6c02"),b={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup:function(t,e){var c=Object(n["E"])(t.noback),a=Object(l["d"])(),r=function(){t.back?a.push({path:t.back}):a.go(-1),e.emit("callback")};return{goBack:r,isback:c}}},j=(c("122a"),c("d959")),O=c.n(j);const p=O()(b,[["render",d],["__scopeId","data-v-2adef164"]]);e["a"]=p},"122a":function(t,e,c){"use strict";c("b9cf")},"360d":function(t,e,c){"use strict";c.d(e,"b",(function(){return a})),c.d(e,"a",(function(){return r})),c.d(e,"c",(function(){return o}));var n=c("a27e");function a(t){return n["a"].get("/goods/detail/".concat(t))}function r(){return n["a"].get("/categories")}function o(t){return n["a"].get("/search",{params:t})}},"5f47":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a={class:"product-detail"},r={class:"detail-content"},o={class:"detail-swipe-wrap"},i={class:"product-info"},u={class:"product-title"},s=Object(n["j"])("div",{class:"product-desc"},"免邮费 顺丰快递",-1),d={class:"product-price"},l={class:"product-intro"},b=Object(n["j"])("ul",null,[Object(n["j"])("li",null,"概述"),Object(n["j"])("li",null,"参数"),Object(n["j"])("li",null,"安装服务"),Object(n["j"])("li",null,"常见问题")],-1);function j(t,e,c,j,O,p){var f=Object(n["H"])("s-header"),g=Object(n["H"])("van-swipe-item"),v=Object(n["H"])("van-swipe"),m=Object(n["H"])("van-action-bar-icon"),h=Object(n["H"])("van-action-bar-button"),k=Object(n["H"])("van-action-bar");return Object(n["z"])(),Object(n["f"])("div",a,[Object(n["j"])(f,{name:"商品详情"}),Object(n["j"])("div",r,[Object(n["j"])("div",o,[Object(n["j"])(v,{class:"my-swipe","indicator-color":"#1baeae"},{default:Object(n["R"])((function(){return[(Object(n["z"])(!0),Object(n["f"])(n["a"],null,Object(n["F"])(t.detail.goodsCarouselList,(function(t,e){return Object(n["z"])(),Object(n["f"])(g,{key:e},{default:Object(n["R"])((function(){return[Object(n["j"])("img",{src:t,alt:""},null,8,["src"])]})),_:2},1024)})),128))]})),_:1})]),Object(n["j"])("div",i,[Object(n["j"])("div",u,Object(n["L"])(t.detail.goodsName||""),1),s,Object(n["j"])("div",d,[Object(n["j"])("span",null,"¥"+Object(n["L"])(t.detail.sellingPrice||""),1)])]),Object(n["j"])("div",l,[b,Object(n["j"])("div",{class:"product-content",innerHTML:t.detail.goodsDetailContent||""},null,8,["innerHTML"])])]),Object(n["j"])(k,null,{default:Object(n["R"])((function(){return[Object(n["j"])(m,{icon:"chat-o",text:"客服"}),Object(n["j"])(m,{icon:"cart-o",badge:j.count?j.count:"",onClick:e[1]||(e[1]=function(t){return j.goTo()}),text:"购物车"},null,8,["badge"]),Object(n["j"])(h,{type:"warning",onClick:j.handleAddCart,text:"加入购物车"},null,8,["onClick"]),Object(n["j"])(h,{type:"danger",onClick:j.goToCart,text:"立即购买"},null,8,["onClick"])]})),_:1})])}c("d81d");var O=c("5530"),p=(c("e7e5"),c("d399")),f=(c("96cf"),c("1da1")),g=c("6c02"),v=c("5502"),m=c("360d"),h=c("8ee6"),k=c("0eaf"),C=c("495f"),w={setup:function(){var t=Object(g["c"])(),e=Object(g["d"])(),c=Object(v["b"])(),a=Object(n["D"])({detail:{goodsCarouselList:[]}});Object(n["w"])(Object(f["a"])(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.params.id,e.next=3,Object(m["b"])(n);case 3:r=e.sent,o=r.data,o.goodsCarouselList=o.goodsCarouselList.map((function(t){return Object(C["b"])(t)})),a.detail=o,c.dispatch("updateCart");case 8:case"end":return e.stop()}}),e)})))),Object(n["q"])((function(){var t=document.querySelector(".detail-content");t.scrollTop=0}));var r=function(){e.go(-1)},o=function(){e.push({path:"/cart"})},i=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["a"])({goodsCount:1,goodsId:a.detail.goodsId});case 2:e=t.sent,n=e.resultCode,200==n&&p["a"].success("添加成功"),c.dispatch("updateCart");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["a"])({goodsCount:1,goodsId:a.detail.goodsId});case 2:c.dispatch("updateCart"),e.push({path:"/cart"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=Object(n["d"])((function(){return console.log(111,c.state.cartCount),c.state.cartCount}));return Object(O["a"])(Object(O["a"])({},Object(n["M"])(a)),{},{goBack:r,goTo:o,handleAddCart:i,goToCart:u,count:s})},components:{sHeader:k["a"]}},y=(c("e9d7"),c("d959")),x=c.n(y);const H=x()(w,[["render",j]]);e["default"]=H},b9cf:function(t,e,c){},d81d:function(t,e,c){"use strict";var n=c("23e7"),a=c("b727").map,r=c("1dde"),o=c("ae40"),i=r("map"),u=o("map");n({target:"Array",proto:!0,forced:!i||!u},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e58a:function(t,e,c){},e9d7:function(t,e,c){"use strict";c("e58a")}}]);
//# sourceMappingURL=product.8f06df66.js.map